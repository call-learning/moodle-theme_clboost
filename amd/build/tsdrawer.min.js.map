{"version":3,"file":"tsdrawer.min.js","sources":["../src/tsdrawer.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Contain the logic for a drawer.\n *\n * This is very similar to the boost routine (drawer.js), except that we have two states:\n * - Partially open with just icons showing up\n * - Fully opened\n *\n * @package   theme_clboost\n * @copyright 2020 - CALL Learning - Laurent David <laurent@call-learning.fr>\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'theme_boost/drawer'],\n    function ($, BoostDrawer) {\n        /* This is a copy of the drawer.js variables as they are private */\n        var SELECTORS = {\n            TOGGLE_REGION: '[data-region=\"drawer-toggle\"]',\n            TOGGLE_ACTION: '[data-action=\"toggle-drawer\"]',\n            TOGGLE_TARGET: 'aria-controls',\n            TOGGLE_SIDE: 'left',\n            BODY: 'body',\n            SECTION: '.list-group-item[href*=\"#section-\"]',\n            DRAWER: '#nav-drawer'\n        };\n        return {\n            'init': function () {\n                var maximisebutton = $(SELECTORS.DRAWER + ' .nav-drawer-maximise-action');\n\n                if (maximisebutton) {\n                    maximisebutton.click(function (e) {\n                        $(SELECTORS.TOGGLE_ACTION).triggerHandler(\"click\");\n                        e.stopPropagation();\n                        e.stopImmediatePropagation();\n                    });\n                }\n                $(SELECTORS.TOGGLE_REGION).each(function(index, ele) {\n                    var trigger = $(ele).find(SELECTORS.TOGGLE_ACTION);\n                    var side = trigger.attr('data-side');\n                    var body = $(SELECTORS.BODY);\n                    // We add a class drawer-right or drawer-left so this can be used to determine\n                    // Left or right margin in scss.\n                    body.addClass('drawer-' + side);\n                });\n                return BoostDrawer.init();\n            }\n        };\n    });\n"],"names":["define","$","BoostDrawer","SELECTORS","maximisebutton","click","e","triggerHandler","stopPropagation","stopImmediatePropagation","each","index","ele","side","find","attr","addClass","init"],"mappings":";;;;;;;;;;;AA0BAA,gCAAO,CAAC,SAAU,uBACd,SAAUC,EAAGC,iBAELC,wBACe,gCADfA,wBAEe,gCAFfA,eAKM,OALNA,iBAOQ,oBAEL,MACK,eACAC,eAAiBH,EAAEE,iBAAmB,uCAEtCC,gBACAA,eAAeC,OAAM,SAAUC,GAC3BL,EAAEE,yBAAyBI,eAAe,SAC1CD,EAAEE,kBACFF,EAAEG,8BAGVR,EAAEE,yBAAyBO,MAAK,SAASC,MAAOC,SAExCC,KADUZ,EAAEW,KAAKE,KAAKX,yBACPY,KAAK,aACbd,EAAEE,gBAGRa,SAAS,UAAYH,SAEvBX,YAAYe"}